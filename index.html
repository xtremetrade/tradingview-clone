<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Xtreme Trade</title>
  <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
  <style>
    body { margin: 0; background: #0e0e0e; font-family: Arial, sans-serif; }
    #chart { height: 100vh; }
    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 50px;
      background: #111;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      z-index: 10;
    }
    #chart { margin-top: 50px; }
  </style>
</head>
<body>
  <header>ðŸ“Š TradingView Clone (HTML + Binance API)</header>
  <div id="chart"></div>

  <script>
    const chart = LightweightCharts.createChart(document.getElementById("chart"), {
      width: window.innerWidth,
      height: window.innerHeight - 50,
      layout: { background: { color: "#0e0e0e" }, textColor: "#fff" },
      grid: { vertLines: { color: "#222" }, horzLines: { color: "#222" } },
      timeScale: { timeVisible: true, secondsVisible: false },
    });

    const candleSeries = chart.addCandlestickSeries();

    // Binance API se BTC/USDT ka data fetch karna
    fetch("https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=1h&limit=100")
      .then(res => res.json())
      .then(data => {
        const chartData = data.map(item => ({
          time: item[0] / 1000,
          open: parseFloat(item[1]),
          high: parseFloat(item[2]),
          low: parseFloat(item[3]),
          close: parseFloat(item[4])
        }));
        candleSeries.setData(chartData);
      });

    // Resize handle
    window.addEventListener("resize", () => {
      chart.applyOptions({ width: window.innerWidth, height: window.innerHeight - 50 });
    });
  </script>
</body>
</html>
